package controller;import entity.User;import moc.oreh.eventbus.EventBus;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import service.TakePlane;import service.events.EmailService;import service.myeventbus.OnlineEvent;import java.util.concurrent.CountDownLatch;/** * Created by hero on 17-4-2. */@Controllerpublic class MyController {    @Autowired    private TakePlane takePlane;    @Autowired    private EmailService emailService;    @Autowired    private EventBus eventBus;    @RequestMapping("/check")    public User receive() {        takePlane.check();        User user = new User("小明", 12);        return user;    }    @RequestMapping("/send")    public void send() {        emailService.sendEmail("abc@123.com", "其实,你是个好人");        emailService.sendEmail("abc@123.com", "啊啊啊啊啊");        emailService.sendEmail("fjelwk@834.com", "hello world");    }    @RequestMapping("/online")    public User online() {        OnlineEvent onlineEvent = new OnlineEvent(new User("小红", 17));        eventBus.publish(onlineEvent, this);        return new User("xfdosa", 3);/*        Thread[] threads = new Thread[10];        for (int i = 0; i < 10; i++) {            threads[i] = new Thread(new Runnable() {                public void run() {                    OnlineEvent onlineEvent = new OnlineEvent(new User("小红", 17));                    eventBus.publish(onlineEvent, this);                }            });        }        for (Thread thread : threads) {            thread.start();        }*/    }}